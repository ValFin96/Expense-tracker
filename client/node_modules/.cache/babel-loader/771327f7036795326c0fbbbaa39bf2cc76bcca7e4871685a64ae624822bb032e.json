{"ast":null,"code":"var _jsxFileName = \"/Users/val/Desktop/Coding projects/Web Challenge/client/src/routes/Home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext } from 'react';\nimport Header from '../components/Header';\nimport Box from '@mui/material/Box';\nimport CoffeeIcon from '@mui/icons-material/Coffee';\nimport FastfoodIcon from '@mui/icons-material/Fastfood';\nimport LocalBarIcon from '@mui/icons-material/LocalBar';\nimport ExpenseFinder from '../apis/ExpenseFinder';\nimport { ExpensesContext } from '../context/ExpensesContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const context = useContext(ExpensesContext);\n  if (!context) {\n    throw new Error('ExpensesContext.Provider is missing around this component');\n  }\n  const {\n    expenses,\n    setExpenses\n  } = context;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await ExpenseFinder.get('/');\n        setExpenses(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchData();\n  }, []);\n  const getExpenseData = typeId => {\n    // Assuming expenses are already summed up per week and include `expense_type_id`\n    const weeklyExpense = expenses.find(expense => expense.expense_type_id === typeId);\n    const average = calculateAverage(typeId); // Implement this function based on your requirements\n    const isAboveAverage = weeklyExpense ? weeklyExpense.amount > average : false;\n    return {\n      weeklyExpense,\n      average,\n      isAboveAverage\n    };\n  };\n\n  // Create an array for your types of expenses\n  const expenseTypes = [{\n    typeId: 2,\n    label: 'Coffee',\n    IconComponent: CoffeeIcon\n  }, {\n    typeId: 1,\n    label: 'Food',\n    IconComponent: FastfoodIcon\n  }, {\n    typeId: 3,\n    label: 'Alcohol',\n    IconComponent: LocalBarIcon\n  }];\n  return /*#__PURE__*/_jsxDEV(Box, {\n    m: 2,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      text: \"Am I spending too much?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), expenseTypes.map(({\n      typeId,\n      label,\n      IconComponent\n    }) => {\n      const {\n        weeklyExpense,\n        average,\n        isAboveAverage\n      } = getExpenseData(typeId);\n      return /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(IconComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [label, \": $\", (weeklyExpense === null || weeklyExpense === void 0 ? void 0 : weeklyExpense.amount) || 0, \" / week\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [isAboveAverage ? 'above' : 'below', \" average by $\", Math.abs((weeklyExpense === null || weeklyExpense === void 0 ? void 0 : weeklyExpense.amount) - average)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, typeId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"wqnYpdjMkT3eDhbBjwDmfBO/TFg=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useContext","Header","Box","CoffeeIcon","FastfoodIcon","LocalBarIcon","ExpenseFinder","ExpensesContext","jsxDEV","_jsxDEV","Home","_s","context","Error","expenses","setExpenses","fetchData","response","get","data","error","console","getExpenseData","typeId","weeklyExpense","find","expense","expense_type_id","average","calculateAverage","isAboveAverage","amount","expenseTypes","label","IconComponent","m","children","text","fileName","_jsxFileName","lineNumber","columnNumber","map","Math","abs","_c","$RefreshReg$"],"sources":["/Users/val/Desktop/Coding projects/Web Challenge/client/src/routes/Home.tsx"],"sourcesContent":["import React, {useEffect, useContext} from 'react'\nimport Header from '../components/Header'\nimport Box from '@mui/material/Box'; \nimport CoffeeIcon from '@mui/icons-material/Coffee';\nimport FastfoodIcon from '@mui/icons-material/Fastfood';\nimport LocalBarIcon from '@mui/icons-material/LocalBar';\nimport ExpenseFinder from '../apis/ExpenseFinder';\nimport { ExpensesContext } from '../context/ExpensesContext';\n\n\n\nconst Home: React.FC = () => {\n  const context = useContext(ExpensesContext);\n\n  if (!context) {\n    throw new Error('ExpensesContext.Provider is missing around this component');\n  }\n  const { expenses, setExpenses } = context;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await ExpenseFinder.get('/');\n        setExpenses(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const getExpenseData = (typeId: number) => {\n    // Assuming expenses are already summed up per week and include `expense_type_id`\n    const weeklyExpense = expenses.find(expense => expense.expense_type_id === typeId);\n    const average = calculateAverage(typeId); // Implement this function based on your requirements\n    const isAboveAverage = weeklyExpense ? weeklyExpense.amount > average : false;\n    return { weeklyExpense, average, isAboveAverage };\n  };\n\n  // Create an array for your types of expenses\n  const expenseTypes = [\n    { typeId: 2, label: 'Coffee', IconComponent: CoffeeIcon },\n    { typeId: 1, label: 'Food', IconComponent: FastfoodIcon },\n    { typeId: 3, label: 'Alcohol', IconComponent: LocalBarIcon },\n  ];\n\n  return (\n    <Box m={2}>\n      <Header text='Am I spending too much?'/>\n      {expenseTypes.map(({ typeId, label, IconComponent }) => {\n        const { weeklyExpense, average, isAboveAverage } = getExpenseData(typeId);\n        return (\n          <Box key={typeId}>\n            <IconComponent />\n            <div>{label}: ${weeklyExpense?.amount || 0} / week</div>\n            <div>{isAboveAverage ? 'above' : 'below'} average by ${Math.abs(weeklyExpense?.amount - average)}</div>\n          </Box>\n        );\n      })}\n    </Box>\n  )\n}\n\nexport default Home"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}